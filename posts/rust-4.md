---
title: 'Rust: 초기값 없이 변수를 선언하는 방법'
date: '2025-02-23'
category: 'rust'
---

### 목차

1. 초기화 없이 변수를 선언하는 올바른 방법
    - 조건에 따라 값을 할당하는 경우
    - 함수에서 값을 반환받아 설정하는 경우
2. `Option<T>`을 활용한 초기화 지연

---

https://blog.kakaocdn.net/dn/rAIay/btszbtfDapI/MkIZTYFnJYr9JuOVm5smgK/img.jpg

Rust에서는 변수를 선언할 때 일반적으로 즉시 초기값을 설정하는 것이 좋습니다. 이는 변수가 항상 유효한 값을 가지도록 보장하며, 코드의 안정성을 높이는 데 도움이 됩니다. 하지만 특정 상황에서는 초기화 없이 변수를 선언해야 할 수도 있습니다. 이 글에서는 Rust에서 초기값 없이 변수를 선언하는 방법과 그에 따른 주의 사항을 설명합니다.

## 초기화 없이 변수를 선언하는 올바른 방법

초기화 없이 변수를 선언하려면 **사용하기 전에 반드시 값을 설정해야 합니다**. 보통 특정 조건이 만족되었을 때 값을 설정하는 방식으로 활용합니다.

### 1) 조건에 따라 값을 할당하는 경우

```rust
fn main() {
    let x: i32; // 초기값 없이 선언

    if true {
        x = 42; // 조건에 따라 값 할당
    } else {
        x = 0;
    }

    println!("x: {}", x); // 정상적으로 실행됨
}
```

위 코드에서는 `x`가 사용되기 전에 항상 값이 할당되도록 보장됩니다. Rust의 컴파일러는 모든 코드 경로에서 변수가 초기화되지 않을 가능성이 있으면 컴파일 오류를 발생시킵니다.

### 2) 함수에서 값을 반환받아 설정하는 경우

```rust
fn get_value() -> i32 {
    100
}

fn main() {
    let x: i32; // 초기화 없이 선언
    x = get_value(); // 함수 호출 후 값 설정
    println!("x: {}", x); // 정상적으로 실행됨
}
```

이 경우에도 `x`는 사용되기 전에 초기화가 보장되므로 컴파일 오류가 발생하지 않습니다.

## `Option<T>`을 활용한 초기화 지연

초기값을 나중에 설정할 필요가 있을 때는 `Option<T>`을 사용하여 안전하게 변수를 다룰 수 있습니다.

```rust
fn main() {
    let mut x: Option<i32> = None; // 초기값 없음

    // 이후 특정 조건에서 값 할당
    x = Some(42);

    if let Some(value) = x {
        println!("x: {}", value);
    }
}
```

이 방법을 사용하면 변수가 아직 값이 할당되지 않은 상태(`None`)인지 확인할 수 있어 더 안전한 프로그래밍이 가능합니다.

## 결론

- Rust에서는 **초기화되지 않은 변수를 허용하지 않으며**, 반드시 사용 전에 값을 설정해야 합니다.
- 가능한 경우 변수를 선언할 때 즉시 초기값을 설정하는 것이 가장 안전한 방법입니다.
- 초기화 없이 변수를 선언해야 한다면, 특정 조건에서 반드시 값을 할당하도록 보장해야 합니다.
- `Option<T>`을 사용하면 초기화 여부를 안전하게 관리할 수 있습니다.
